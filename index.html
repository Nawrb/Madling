<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Madling - Webcomic</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Permanent+Marker&family=Bangers&display=swap" rel="stylesheet">
</head>
<body>
    <header>
    <div class="social-media-icons">
        <a class="social-icon-round" href="https://junkred.carrd.co/" target="_blank">
            <img src="assets/logo-cards.png">
        </a>
    </div>

    <div class="logo-container">
        <img src="assets/Madling_Logo.png" alt="Logo MADLING" class="logo-image">
    </div>

    <nav class="main-nav">
        <a href="#">About</a>
        <a href="#">Archive</a>
        <a href="#">Characters</a>
        <a href="#">Extras</a>
        <a href="#">Links</a>
    </nav>
</header>

    <main>
        <div class="content-box">
            <div class="chapter-header">
                <h2>- Chapter 0 -</h2>
                <h3>That Day</h3>
            </div>

            <div class="gallery-grid">
                <div class="page-item">
                    <div class="img-wrapper">
                        <img src="https://via.placeholder.com/200x300/3e1a47/ff69b4?text=COVER" alt="Cover">
                    </div>
                    <span class="page-label">Cover</span>
                </div>

                <div class="page-item">
                    <div class="img-wrapper">
                        <img src="https://via.placeholder.com/200x300/3e1a47/ff69b4?text=Page+00" alt="Page 00">
                    </div>
                    <span class="page-label">Page 00</span>
                </div>

                <div class="page-item">
                    <div class="img-wrapper">
                        <img src="https://via.placeholder.com/200x300/3e1a47/ff69b4?text=Page+01" alt="Page 01">
                    </div>
                    <span class="page-label">Page 01</span>
                </div>

                <div class="page-item">
                    <div class="img-wrapper">
                        <img src="https://via.placeholder.com/200x300/3e1a47/ff69b4?text=Page+02" alt="Page 02">
                    </div>
                    <span class="page-label">Page 02</span>
                </div>

                <div class="page-item">
                    <div class="img-wrapper">
                        <img src="https://via.placeholder.com/200x300/3e1a47/ff69b4?text=Page+03" alt="Page 03">
                    </div>
                    <span class="page-label">Page 03</span>
                </div>
            </div>
        </div>
    </main>
<div class="admin-toolbar">
        <h3>Zone Créateur</h3>
        <div class="button-group">
            <button onclick="ajouterChapitre()" class="btn-admin btn-chap">
                + Nouveau Chapitre
            </button>
            
            <button onclick="ajouterPage()" class="btn-admin btn-page">
                + Nouvelle Page
            </button>
        </div>
    </div>
<script>
    // on fera une page pour le js aussi
    // Fonction pour ajouter un nouveau titre de chapitre ET une nouvelle grille
    function ajouterChapitre() {
        const num = prompt("Numéro du chapitre (ex: 13) ?", "XX");
        const titre = prompt("Titre du chapitre ?", "Le Réveil");

        if (num && titre) {
            const mainDiv = document.querySelector('.content-box');
            
            // 1. On crée le conteneur du titre
            const newHeader = document.createElement('div');
            newHeader.className = 'chapter-header';
            newHeader.style.marginTop = "60px"; // Espace avant le nouveau chapitre
            newHeader.style.borderTop = "2px dashed #333"; // Séparateur visuel
            newHeader.style.paddingTop = "40px";
            newHeader.innerHTML = `<h2>- Chapter ${num} -</h2><h3>${titre}</h3>`;
            
            // 2. On crée une NOUVELLE grille pour ce chapitre
            const newGrid = document.createElement('div');
            newGrid.className = 'gallery-grid';
            
            // 3. On ajoute le tout à la suite
            mainDiv.appendChild(newHeader);
            mainDiv.appendChild(newGrid);

            // Petit scroll pour voir le résultat
            newHeader.scrollIntoView({behavior: "smooth"});
        }
    }

    // Fonction pour ajouter une page dans la DERNIÈRE grille disponible
    function ajouterPage() {
        const nomPage = prompt("Nom de la page ?", "Page XX");
        // Image par défaut (placeholder)
        const urlImage = "https://via.placeholder.com/200x300/5dcefa/000?text=NEW";

        if (nomPage) {
            // C'EST ICI QUE ÇA CHANGE :
            // On sélectionne TOUTES les grilles, et on prend la dernière
            const allGrids = document.querySelectorAll('.gallery-grid');
            const lastGrid = allGrids[allGrids.length - 1];

            // Création de la page
            const newPageItem = document.createElement('div');
            newPageItem.className = 'page-item';
            
            newPageItem.innerHTML = `
                <div class="img-wrapper">
                    <img src="${urlImage}" alt="${nomPage}">
                </div>
                <span class="page-label">${nomPage}</span>
            `;

            // Ajout à la dernière grille trouvée
            lastGrid.appendChild(newPageItem);
            
            newPageItem.scrollIntoView({behavior: "smooth"});
        }
    }
</script>
</body>
</html>
